---
title: "Prelim_Spring2019"
author: "Sarah Glancy"
date: "2/12/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
when importing data set, change mmLenght, Total_prey and Total_gut to numeric values
 how to change row names after import
 
```{r}
library(readxl)
Spring2019 <- read_excel("C:/Users/Sarah/Desktop/WHOI/LTER/201902/LTER201902_FishGuts.xlsx", 
    col_types = c("numeric", "numeric", "text", 
        "numeric", "text", "text", "text", 
        "text", "text", "text", "numeric", 
        "text", "numeric", "numeric", "text", 
        "text"))
View(Spring2019)
```
 
 
 Warnings in above are from the NAs in the numeric columns
 
 Spring2019 %>% 
  rename(
    Length(mm) = mmLength )

```{r}


kable(Spring2019)
```

I need to seperate this table into two, one that has unique identifiers for prey and another that had fish with counts from each prey type it contains. 

selecting out specific rows and then naming a new data file with just those rows in them. 
Example: portland_flights <- flights %>% 
            filter(dest == "PDX")
            View(portland_flights)
```{r}
FishCount <- Spring2019 %>% 
  filter(Total_prey != "NA") %>%
           filter(GutItem != "Parasite")
View(FishCount)

```

create another data table with only the rows that have unique prey ID with measurements 
```{r}

PreyMeas <- Spring2019 %>% 
  filter(Prey_mm != "NA")
View(PreyMeas)
```

finally create table that has parasite info- will be remainder of rows. 

```{r}
Parasites <- Spring2019 %>% 
  filter(GutItem == "Parasite")
View(Parasites)

```

Starting some analysis

n() counts the number of ROWS in each each group

```{r}

by_FSpecies <- Spring2019 %>% 
  group_by(FishSpecies) %>% 
  summarize(count = n())
by_origin
```

###
start attempting data summarizing

```{r}

summary_FishSp_TotGut <- Spring2019 %>% 
  group_by(FishSpecies) %>% 
  summarize(mean = mean(Total_gut, na.rm = TRUE))
summary_FishSp_TotGut
```
 there is a misspelling where one is capatilized in P_tri attempting to change to all match
 
```{r}
install.packages(mudata2)

recode(Spring2019$FishSpecies, p_tri = "P_tri" )

summary_FishSp_TotGut <- Spring2019 %>% 
  group_by(FishSpecies) %>% 
  summarize(mean = mean(Total_gut, na.rm = TRUE))

summary_FishSp_TotGut
```
 rename the "mean" column
 
```{r}

rename (summary_FishSp_TotGut, "Mean prey items" = "mean")

summary_FishSp_TotGut
```
```{r}
print(summary_FishSp_TotGut)
```
more specific groupings
```{r}
summary_FishSp_preytype <- PreyMeas %>% 
  group_by(GutItem) %>%
  summarize(mean = mean(Prey_mm, na.rm = TRUE))

 summary_GutItem <- summary_FishSp_preytype
 
 summary_GutItem
```
requires renaming or "recoding" some of the variables again. 

```{r}

recode(FishCount$GutItem, candacia = "Candacia", polychaeta ="polychaeta" )

summary_GutItem

```
count the number of fish for each species. 

```{r}


```

